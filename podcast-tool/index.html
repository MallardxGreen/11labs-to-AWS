<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Podcast Voice Tool</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: #0f0f0f;
            color: #e0e0e0;
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .container { max-width: 660px; width: 100%; padding: 2rem; }
        h1 { font-size: 1.8rem; margin-bottom: 0.5rem; color: #fff; }
        .subtitle { color: #888; margin-bottom: 2rem; font-size: 0.95rem; }
        select, textarea {
            width: 100%;
            background: #1a1a1a;
            border: 1px solid #333;
            border-radius: 8px;
            color: #e0e0e0;
            padding: 0.6rem 1rem;
            font-size: 1rem;
            font-family: inherit;
            outline: none;
        }
        select { cursor: pointer; }
        textarea { height: 180px; resize: vertical; }
        textarea:focus, select:focus { border-color: #6c5ce7; }
        textarea::placeholder { color: #555; }
        .row { display: flex; gap: 1rem; margin-bottom: 1rem; }
        .row > div { flex: 1; }
        label { display: block; margin-bottom: 0.5rem; color: #888; font-size: 0.9rem; }
        .controls { display: flex; justify-content: space-between; align-items: center; margin-top: 1rem; }
        .char-count { color: #666; font-size: 0.85rem; }
        button {
            background: #6c5ce7; color: #fff; border: none;
            padding: 0.75rem 1.5rem; border-radius: 8px; font-size: 1rem;
            cursor: pointer; display: flex; align-items: center; gap: 0.5rem;
        }
        button:hover { background: #5a4bd1; }
        button:disabled { background: #333; cursor: not-allowed; }
        .spinner { width: 16px; height: 16px; border: 2px solid #fff3; border-top-color: #fff; border-radius: 50%; animation: spin 0.6s linear infinite; }
        @keyframes spin { to { transform: rotate(360deg); } }
        .tuning-panel {
            margin-bottom: 1rem; padding: 1rem;
            background: #1a1a1a; border: 1px solid #333; border-radius: 8px;
        }
        .tuning-panel label { color: #ccc; font-size: 0.95rem; margin-bottom: 0.75rem; }
        .slider-row { display: flex; align-items: center; gap: 0.75rem; margin-bottom: 0.6rem; }
        .slider-row:last-child { margin-bottom: 0; }
        .slider-label { color: #888; font-size: 0.85rem; min-width: 90px; }
        .slider-hint { color: #555; font-size: 0.75rem; min-width: 120px; }
        .slider-value { color: #6c5ce7; font-size: 0.85rem; min-width: 40px; text-align: right; }
        .slider {
            flex: 1; -webkit-appearance: none; appearance: none;
            height: 4px; background: #333; border-radius: 2px; outline: none;
        }
        .slider::-webkit-slider-thumb {
            -webkit-appearance: none; appearance: none;
            width: 14px; height: 14px; border-radius: 50%;
            background: #6c5ce7; cursor: pointer;
        }
        .player-section { margin-top: 1.5rem; background: #1a1a1a; border-radius: 8px; padding: 1.25rem; }
        audio { width: 100%; margin-bottom: 0.75rem; }
        .download-btn { display: inline-block; color: #6c5ce7; text-decoration: none; font-size: 0.9rem; }
        .download-btn:hover { text-decoration: underline; }
        .translated { margin-top: 0.75rem; }
        .translated-box { background: #1a1a1a; border: 1px solid #333; border-radius: 8px; padding: 1rem; color: #b0b0b0; font-size: 0.95rem; min-height: 60px; white-space: pre-wrap; }
        .error { margin-top: 1rem; padding: 0.75rem 1rem; background: #2d1515; border: 1px solid #5c2020; border-radius: 8px; color: #ff6b6b; font-size: 0.9rem; }
    </style>
</head>
<body>
    <div class="container">
        <h1>üéôÔ∏è Podcast Voice Tool</h1>
        <p class="subtitle">ElevenLabs voices + AWS Translate ‚Äî your podcast studio</p>

        <div class="row">
            <div>
                <label for="voiceSelect">Voice</label>
                <select id="voiceSelect">
                    <option value="CwhRBWXzGAHq8TQ4Fs17">Roger ‚Äî Laid-Back, Casual</option>
                    <option value="JBFqnCBsd6RMkjVDRZzb">George ‚Äî Warm Storyteller</option>
                    <option value="nPczCjzI2devNBz1zQrb">Brian ‚Äî Deep, Resonant</option>
                    <option value="onwK4e9ZLuTAKqWW03F9">Daniel ‚Äî Steady Broadcaster</option>
                    <option value="Xb7hH8MSUJpSbSDYk0k2">Alice ‚Äî Clear Educator</option>
                    <option value="XrExE9yKIg1WjnnlVkGX">Matilda ‚Äî Professional</option>
                    <option value="cgSgspJ2msm6clMCkdW9">Jessica ‚Äî Playful, Warm</option>
                    <option value="EXAVITQu4vr4xnSDxMaL">Sarah ‚Äî Mature, Confident</option>
                </select>
            </div>
            <div>
                <label for="langSelect">Translate to</label>
                <select id="langSelect">
                    <option value="">None (original text)</option>
                    <option value="es">Spanish</option>
                    <option value="fr">French</option>
                    <option value="de">German</option>
                    <option value="pt">Portuguese</option>
                    <option value="it">Italian</option>
                    <option value="ja">Japanese</option>
                    <option value="ko">Korean</option>
                    <option value="zh">Chinese</option>
                    <option value="hi">Hindi</option>
                    <option value="ar">Arabic</option>
                    <option value="nl">Dutch</option>
                    <option value="pl">Polish</option>
                </select>
            </div>
        </div>

        <div class="tuning-panel">
            <label>Voice Tuning</label>
            <div class="slider-row">
                <span class="slider-label">Stability</span>
                <input type="range" id="stabilitySlider" min="0" max="100" value="50" class="slider">
                <span class="slider-value" id="stabilityValue">50</span>
                <span class="slider-hint">‚Üê expressive / stable ‚Üí</span>
            </div>
            <div class="slider-row">
                <span class="slider-label">Clarity</span>
                <input type="range" id="similaritySlider" min="0" max="100" value="75" class="slider">
                <span class="slider-value" id="similarityValue">75</span>
                <span class="slider-hint">‚Üê soft / clear ‚Üí</span>
            </div>
            <div class="slider-row">
                <span class="slider-label">Style</span>
                <input type="range" id="styleSlider" min="0" max="100" value="0" class="slider">
                <span class="slider-value" id="styleValue">0</span>
                <span class="slider-hint">‚Üê neutral / dramatic ‚Üí</span>
            </div>
        </div>

        <textarea id="scriptInput" placeholder="Type your podcast script here..."></textarea>

        <div class="controls">
            <div class="char-count"><span id="charCount">0</span> characters</div>
            <button id="generateBtn" onclick="generateAudio()">
                <span id="btnText">Generate Audio</span>
                <span id="spinner" class="spinner" style="display:none;"></span>
            </button>
        </div>

        <div id="translatedSection" class="translated" style="display:none;">
            <label>Translated text</label>
            <div id="translatedText" class="translated-box"></div>
        </div>

        <div id="playerSection" class="player-section" style="display:none;">
            <audio id="audioPlayer" controls></audio>
            <div style="display:flex; gap:1rem; align-items:center; margin-top:0.75rem;">
                <a id="downloadLink" class="download-btn" download="podcast-clip.mp3">Download MP3</a>
                <button id="s3Btn" onclick="saveToS3()" style="font-size:0.85rem; padding:0.5rem 1rem;">
                    <span id="s3BtnText">Save to S3</span>
                    <span id="s3Spinner" class="spinner" style="display:none;"></span>
                </button>
                <span id="s3Status" style="color:#888; font-size:0.85rem;"></span>
            </div>
        </div>

        <div id="errorMsg" class="error" style="display:none;"></div>
    </div>
    <script src="app.js"></script>
</body>
</html>
